1. Azure Portal -> Deploy a Custom Template
2. Build your own template in the editor
3. Paste in Code - note (4) resources created in the left pane -> Click Save
4. Update subscription, resource group, region, logic app name -> Create
5. Once completed, navigate to the Logic App -> Identity -> System Assigned On (or use UA if you prefer)
6. Grant the necessary permissions (storage blob data owner) for the managed identity to the storage location for testing
7. Once completed, navigate to the Logic App -> API Connections
8. Select the azureblob connection -> Edit API Connection -> Logic Apps Managed Identity -> update Displayname
9. Select the office365 connection -> Edit API Connection -> Update Display Name to the mailbox used to send outgoing emails -> Authorize -> Save
10. Navigate to the logic app designer -> select Initialize Variables action -> Update "qContainer" to your quarantine path (in testing, I used a container called 'quarantine' in the same storage account). 
11. Update 'notifyEmail' to the email receiving the approval emails
12. Save Logic App
13. On testing storage account -> enable Defender for Storage On-Upload malware scanning
14. Exclude blobs with prefix that matches your quarantine container (e.g. 'quarantine/') so files don't get double scanned
15. My test storage account contains two containers: upload (which represents where your files first hit), and quarantine (which represents the quarantine)
16. Navigate to Defender for Cloud -> Management -> Workflow Automation
17. Create a new workflow automation -> Set trigger condition to 'Security Alert', alert name contains 'Malicious file uploaded to storage account', 'All severities selected'
18. Set Actions to the created Logic App 
19. Test by uploading eicar to the 'upload' directory (or whoever you configured it)
